<main>
  <div class="py-6 sm:px-6 lg:px-8">
    <h1 class="text-3xl font-bold leading-tight text-gray-900">
      User Management
    </h1>
    <div class="w-full max-w-screen-lg mx-auto flex items-center justify-center">
      <div class="py-6 w-full">
        <div class="flex items-start justify-between">
          <div>
            <h2 class="uppercase font-semibold leading-6 text-lg text-remit-blue-900">
              View operators
            </h2>
            <p class="mt-1 text-sm leading-5 text-gray-600">
              Operators registered under your account.
            </p>
          </div>
          <div>
            <button type="button" class="btn py-2  text-white bg-cool-gray-900 shadow hover:shadow-md">
              Create operator
            </button>
          </div>
        </div>
        <div>
          <form class="text-right">
            <div class="mt-4 max-w-md inline-grid grid-cols-2 grid-flow-row gap-x-1">
              <div class="mt-1 text-left">
                <label for="search_by" class="block text-sm font-medium leading-5 text-gray-700">
                  Search by</label>
                <select id="search_by"
                  class="block form-select w-full border border-gray-300 bg-white rounded-sm shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5">
                  <option value="firstName">First name</option>
                  <option value="lastName">Last name</option>
                  <option value="username">Username</option>
                  <option value="role">Role</option>
                  <option value="enabled">Status</option>
                  <option value="email">Email</option>
                </select>
              </div>
              <div class="text-left">
                <label for="search_parameter" class="block text-sm font-medium leading-5 text-gray-700">
                  Search key</label>
                <div class="mt-1 relative rounded-sm shadow-sm">
                  <input id="search_parameter" type="text" class="mt-1 py-2">
                  <div class="absolute inset-y-0 right-0 flex items-center">
                    <button type="submit" class="px-2 focus:outline-none">
                      <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div *ngIf="false" class="mt-8 flex flex-col items-center">
          <svg class="w-10 h-10 text-cool-gray-400 animate-bounce" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10" />
          </svg>
        </div>
        <div class="mt-2 flex flex-col">
          <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
            <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
              <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-sm">
                <table class="min-w-full divide-y divide-gray-200">
                  <thead>
                    <tr>
                      <th
                        class="px-6 py-3 bg-cool-gray-900 text-left text-xs leading-4 font-medium text-white uppercase tracking-wider">
                        Name
                      </th>
                      <th
                        class="px-6 py-3 bg-cool-gray-900 text-left text-xs leading-4 font-medium text-white uppercase tracking-wider">
                        Contact
                      </th>
                      <th
                        class="px-6 py-3 bg-cool-gray-900 text-left text-xs leading-4 font-medium text-white uppercase tracking-wider">
                        Status
                      </th>
                      <th class="px-6 py-3 bg-cool-gray-900"></th>
                    </tr>
                  </thead>
                  <tbody class="bg-white divide-y divide-gray-200">
                    <tr *ngFor="let operator of operators">
                      <td class="px-6 py-4 whitespace-no-wrap">
                        <div class="flex items-center">
                          <div
                            class="flex-shrink-0 h-10 w-10 flex items-center justify-center overflow-hidden rounded-full">
                            <img class="h-10 object-cover"
                              src="https://st.depositphotos.com/2218212/2938/i/600/depositphotos_29387653-stock-photo-facebook-profile.jpg"
                              [alt]="operator.firstname">
                          </div>
                          <div class="ml-4">
                            <div class="text-sm leading-5 font-medium text-gray-900">
                              {{operator.firstname}} {{operator.lastname}}
                            </div>
                          </div>
                        </div>
                      </td>
                      <td class="px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-500">
                        <div class="text-sm leading-5 text-gray-500">{{operator.email}}</div>
                        <div class="text-sm leading-5 text-gray-500">{{operator.mobile}}</div>
                      </td>
                      <td class="px-6 py-4 whitespace-no-wrap">
                        <span
                          class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                          Active
                        </span>
                      </td>
                      <td class="px-6 py-4 whitespace-no-wrap text-right text-sm leading-5 font-medium">
                        <button *ngIf="operator.status.toLowerCase() !== 'active'"
                          class="text-green-600 hover:text-green-900">Activate</button>
                        <button *ngIf="operator.status.toLowerCase() === 'active'"
                          class="text-red-600 hover:text-red-900">Deactivate</button>
                        <button (click)="onEditOperator(operator)"
                          class="ml-4 text-cool-gray-800 hover:text-remit-blue-900">Edit</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div class="pt-4 flex items-center justify-center">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="space-y-0 mx-auto max-screen-w-lg">
      <div class="px-4 py-6 sm:px-0">
        <div class="w-full flex items-center justify-center">
          <div class="py-6 w-full max-w-screen-lg">
            <div>
              <h2 class="uppercase font-semibold leading-6 text-lg text-remit-blue-900">
                Register operator
              </h2>
            </div>
            <form [formGroup]="registerOperatorForm" (ngSubmit)="onRegisterOperator()">
              <div class="mt-8">
                <div>
                  <div>
                    <div class="px-4 sm:px-0">
                      <h3 class="text-lg font-medium leading-6 text-gray-900">Operator Information</h3>
                      <p class="mt-1 text-sm leading-5 text-gray-600">
                        Operator's personal information and sign in details.
                      </p>
                    </div>
                  </div>
                  <div class="mt-5 w-full">
                    <div>
                      <div class="shadow overflow-hidden sm:rounded-sm">
                        <div class="px-4 py-5 bg-white sm:p-6">
                          <div class="grid grid-cols-6 gap-6">
                            <div class="col-span-6 sm:col-span-3">
                              <label for="first_name" class="block text-sm font-medium leading-5 text-gray-700">First
                                name</label>
                              <input id="first_name" type="text" class="mt-1 py-2" formControlName="firstname">
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                              <label for="last_name" class="block text-sm font-medium leading-5 text-gray-700">Last
                                name</label>
                              <input id="last_name" type="text" class="mt-1 py-2" formControlName="lastname">
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                              <label for="email" class="block text-sm font-medium leading-5 text-gray-700">Email</label>
                              <input id="email" type="email" class="mt-1 py-2" formControlName="email">
                            </div>
                            <div class="col-span-6 sm:col-span-3">
                              <label for="mobile"
                                class="block text-sm font-medium leading-5 text-gray-700">Mobile</label>
                              <input id="mobile" type="tel" class="mt-1 py-2" formControlName="mobile">
                            </div>
                          </div>
                        </div>
                        <div class="px-4 py-3 bg-gray-50 flex items-center justify-between sm:px-6">
                          <div>
                            <button type="button" class="btn py-2 bg-white shadow hover:shadow-md">
                              View operators
                            </button>
                          </div>
                          <div class="text-right">
                            <button type="submit" class="btn py-2 text-white bg-cool-gray-900 shadow hover:shadow-md">
                              Register operator
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="editingOperator" class="absolute z-10 inset-0 overflow-y-auto">
    <div class="fixed inset-0 transition-opacity">
      <div class="absolute inset-0 bg-gray-500 opacity-75">
      </div>
      <button (click)="editingOperator = false"
        class="absolute mt-20 mr-8 right-0 top-0 p-2 bg-white rounded-full cursor-pointer focus:outline-none">
        <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div *ngIf="false" class="h-full flex items-center justify-center">
      <div class="flex flex-col items-center">
        <svg class="w-12 h-12 text-white animate-bounce" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10" />
        </svg>
      </div>
    </div>
    <div class="h-full flex items-center justify-center">
      <div
        class="w-full max-w-screen-md bg-white rounded-sm text-left overflow-hidden shadow-xl transform transition-all sm:my-8"
        role="dialog" aria-modal="true" aria-labelledby="modal-headline">
        <form [formGroup]="editOperatorForm" class="w-full">
          <div>
            <div>
              <div class="px-4 pt-4 sm:px-6 sm:pt-6">
                <h3 class="text-lg font-medium leading-6 text-gray-900">Edit User</h3>
                <p class="mt-1 text-sm leading-5 text-gray-600">
                  Edit operator's information.
                </p>
              </div>
            </div>
            <div class="mt-5 w-full">
              <div>
                <div class="overflow-hidden sm:rounded-sm">
                  <div class="px-4 py-5 bg-white sm:p-6">
                    <div class="grid grid-cols-6 gap-6">
                      <div class="col-span-6 sm:col-span-3">
                        <label for="first_name" class="block text-sm font-medium leading-5 text-gray-700">First
                          name</label>
                        <input id="first_name" type="text" class="mt-1 py-2" formControlName="firstname">
                      </div>
                      <div class="col-span-6 sm:col-span-3">
                        <label for="last_name" class="block text-sm font-medium leading-5 text-gray-700">Last
                          name</label>
                        <input id="last_name" type="text" class="mt-1 py-2" formControlName="lastname">
                      </div>
                      <div class="col-span-6 sm:col-span-3">
                        <label for="email" class="block text-sm font-medium leading-5 text-gray-700">Email</label>
                        <input id="email" type="email" class="mt-1 py-2" formControlName="email">
                      </div>
                      <div class="col-span-6 sm:col-span-3">
                        <label for="mobile" class="block text-sm font-medium leading-5 text-gray-700">Mobile</label>
                        <input id="mobile" type="tel" class="mt-1 py-2" formControlName="mobile">
                      </div>
                    </div>
                  </div>
                  <div class="px-4 py-3 bg-gray-50 flex items-center justify-between sm:px-6">
                    <div>
                      <button type="button" (click)="editingOperator = false"
                        class="btn py-2 text-cool-gray-500 bg-white shadow hover:shadow-md">
                        Cancel
                      </button>
                    </div>
                    <div class="text-right">
                      <button type="submit" class="btn py-2 text-white bg-cool-gray-900 shadow hover:shadow-md">
                        Save changes
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>